{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reduce = reduce;\n\nvar _indexJs = require(\"../actions/dragDrop/index.js\");\n\nvar _registryJs = require(\"../actions/registry.js\");\n\nvar _jsUtilsJs = require(\"../utils/js_utils.js\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === \"function\") {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nconst initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\n\nfunction reduce() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    payload\n  } = action;\n\n  switch (action.type) {\n    case _indexJs.BEGIN_DRAG:\n      return _objectSpread({}, state, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case _indexJs.PUBLISH_DRAG_SOURCE:\n      return _objectSpread({}, state, {\n        isSourcePublic: true\n      });\n\n    case _indexJs.HOVER:\n      return _objectSpread({}, state, {\n        targetIds: payload.targetIds\n      });\n\n    case _registryJs.REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        targetIds: (0, _jsUtilsJs).without(state.targetIds, payload.targetId)\n      });\n\n    case _indexJs.DROP:\n      return _objectSpread({}, state, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case _indexJs.END_DRAG:\n      return _objectSpread({}, state, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"mappings":";;;;;QA+BgBA;;AAzBT,YAA8B,0CAA9B;;AACuB,eAAwB,oCAAxB;;AAEN,cAAsB,kCAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYxB,MAAMC,YAAY,GAAU;AAC3BC,UAAQ,EAAE,IADiB;AAE3BC,MAAI,EAAE,IAFqB;AAG3BC,UAAQ,EAAE,IAHiB;AAI3BC,WAAS,EAAE,EAJgB;AAK3BC,YAAU,EAAE,IALe;AAM3BC,SAAO,EAAE,KANkB;AAO3BC,gBAAc,EAAE;AAPW,CAA5B;;SAUgBR,SAWP;AAAA,MAVRS,KAUQ,uEAVOR,YAUP;AAAA,MATRS,MASQ;AACR,QAAM;AAAEC;AAAF,MAAcD,MAApB;;AACA,UAAQA,MAAM,CAACE,IAAf;AACC,SAAKC,QAAU,WAAf;AACC,aAAMC,kBACFL,KADE,EACG;AACRP,gBAAQ,EAAES,OAAO,CAACT,QADV;AAERC,YAAI,EAAEQ,OAAO,CAACR,IAFN;AAGRC,gBAAQ,EAAEO,OAAO,CAACP,QAHV;AAIRI,sBAAc,EAAEG,OAAO,CAACH,cAJhB;AAKRF,kBAAU,EAAE,IALJ;AAMRC,eAAO,EAAE;AAND,OADH,CAAN;;AASD,SAAKQ,QAAmB,oBAAxB;AACC,aAAMD,kBACFL,KADE,EACG;AACRD,sBAAc,EAAE;AADR,OADH,CAAN;;AAID,SAAKQ,QAAK,MAAV;AACC,aAAMF,kBACFL,KADE,EACG;AACRJ,iBAAS,EAAEM,OAAO,CAACN;AADX,OADH,CAAN;;AAID,SAAKY,WAAa,cAAlB;AACC,UAAIR,KAAK,CAACJ,SAANI,CAAgBS,OAAhBT,CAAwBE,OAAO,CAACQ,QAAhCV,MAAwC,CAAO,CAAnD,EAAsD;AACrD,eAAOA,KAAP;AACA;;AACD,aAAMK,kBACFL,KADE,EACG;AACRJ,iBAAS,MAAEe,UAAF,EAASA,OAAT,CAAUX,KAAK,CAACJ,SAAhB,EAA2BM,OAAO,CAACQ,QAAnC;AADD,OADH,CAAN;;AAID,SAAKE,QAAI,KAAT;AACC,aAAMP,kBACFL,KADE,EACG;AACRH,kBAAU,EAAEK,OAAO,CAACL,UADZ;AAERC,eAAO,EAAE,IAFD;AAGRF,iBAAS,EAAE;AAHH,OADH,CAAN;;AAMD,SAAKiB,QAAQ,SAAb;AACC,aAAMR,kBACFL,KADE,EACG;AACRP,gBAAQ,EAAE,IADF;AAERC,YAAI,EAAE,IAFE;AAGRC,gBAAQ,EAAE,IAHF;AAIRE,kBAAU,EAAE,IAJJ;AAKRC,eAAO,EAAE,KALD;AAMRC,sBAAc,EAAE,IANR;AAORH,iBAAS,EAAE;AAPH,OADH,CAAN;;;AAWA,aAAOI,KAAP;AAhDF;AAkDA","names":["reduce","initialState","itemType","item","sourceId","targetIds","dropResult","didDrop","isSourcePublic","state","action","payload","type","BEGIN_DRAG","_objectSpread","PUBLISH_DRAG_SOURCE","HOVER","REMOVE_TARGET","indexOf","targetId","without","DROP","END_DRAG"],"sources":["/Users/davidandtiana/Downloads/chillibean-test/node_modules/dnd-core/src/reducers/dragOperation.ts"],"sourcesContent":["import {\n\tBEGIN_DRAG,\n\tPUBLISH_DRAG_SOURCE,\n\tHOVER,\n\tEND_DRAG,\n\tDROP,\n} from '../actions/dragDrop/index.js'\nimport { REMOVE_TARGET } from '../actions/registry.js'\nimport type { Identifier, Action } from '../interfaces.js'\nimport { without } from '../utils/js_utils.js'\n\nexport interface State {\n\titemType: Identifier | Identifier[] | null\n\titem: any\n\tsourceId: string | null\n\ttargetIds: string[]\n\tdropResult: any\n\tdidDrop: boolean\n\tisSourcePublic: boolean | null\n}\n\nconst initialState: State = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\titemType: Identifier | Identifier[]\n\t\titem: any\n\t\tsourceId: string\n\t\ttargetId: string\n\t\ttargetIds: string[]\n\t\tisSourcePublic: boolean\n\t\tdropResult: any\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: payload.itemType,\n\t\t\t\titem: payload.item,\n\t\t\t\tsourceId: payload.sourceId,\n\t\t\t\tisSourcePublic: payload.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t}\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSourcePublic: true,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: payload.targetIds,\n\t\t\t}\n\t\tcase REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(payload.targetId) === -1) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: without(state.targetIds, payload.targetId),\n\t\t\t}\n\t\tcase DROP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdropResult: payload.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tcase END_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}