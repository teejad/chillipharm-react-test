{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DragPreviewImage = void 0;\n\nvar _react = require(\"react\");\n\nconst DragPreviewImage = (0, _react).memo(function DragPreviewImage(_ref) {\n  let {\n    connect,\n    src\n  } = _ref;\n  (0, _react).useEffect(() => {\n    if (typeof Image === 'undefined') return;\n    let connected = false;\n    const img = new Image();\n    img.src = src;\n\n    img.onload = () => {\n      connect(img);\n      connected = true;\n    };\n\n    return () => {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});\nexports.DragPreviewImage = DragPreviewImage;","map":{"version":3,"mappings":";;;;;;;AAAoC,UAAO,mBAAP;;AAU7B,MAAMA,gBAAgB,OAA8BC,MAA9B,EAAkCA,IAAlC,CAC5B,SAASD,gBAAT,OAA4C;AAAA,MAAlB;AAAEE,WAAF;AAAWC;AAAX,GAAkB;MAC3CC,QAASA,gBAAO;AACf,QAAI,OAAOC,KAAP,KAAiB,WAArB,EAAkC;AAElC,QAAIC,SAAS,GAAG,KAAhB;AACA,UAAMC,GAAG,GAAG,IAAIF,KAAJ,EAAZ;AACAE,OAAG,CAACJ,GAAJI,GAAUJ,GAAVI;;AACAA,OAAG,CAACC,MAAJD,GAAU,MAAS;AAClBL,aAAO,CAACK,GAAD,CAAPL;AACAI,eAAS,GAAG,IAAZA;AACA,KAHDC;;AAIA,WAAM,MAAO;AACZ,UAAID,SAAJ,EAAe;AACdJ,eAAO,CAAC,IAAD,CAAPA;AACA;AACD,KAJD;AAKA;AAED,SAAO,IAAP;AACA,CApB2B,CAAtB;QAAMF","names":["DragPreviewImage","memo","connect","src","useEffect","Image","connected","img","onload"],"sources":["/Users/davidandtiana/Downloads/chillibean-test/node_modules/react-dnd/src/core/DragPreviewImage.ts"],"sourcesContent":["import { FC, useEffect, memo } from 'react'\nimport type { ConnectDragPreview } from '../types/index.js'\n\nexport interface DragPreviewImageProps {\n\tconnect: ConnectDragPreview\n\tsrc: string\n}\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage: FC<DragPreviewImageProps> = memo(\n\tfunction DragPreviewImage({ connect, src }) {\n\t\tuseEffect(() => {\n\t\t\tif (typeof Image === 'undefined') return\n\n\t\t\tlet connected = false\n\t\t\tconst img = new Image()\n\t\t\timg.src = src\n\t\t\timg.onload = () => {\n\t\t\t\tconnect(img)\n\t\t\t\tconnected = true\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tconnect(null)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn null\n\t},\n)\n"]},"metadata":{},"sourceType":"script"}