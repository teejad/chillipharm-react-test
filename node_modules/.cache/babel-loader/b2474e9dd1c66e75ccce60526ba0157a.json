{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KEYS = exports.WithOutContext = exports.WithContext = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _ClearAllTags = require('./ClearAllTags');\n\nvar _ClearAllTags2 = _interopRequireDefault(_ClearAllTags);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} //Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: '',\n      currentEditIndex: -1\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice(); // Early exit from the function if the array\n      // is already empty\n\n      if (currentTags.length === 0) {\n        return;\n      }\n\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, tag, e) {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          editable = _props2.editable,\n          handleTagClick = _props2.handleTagClick,\n          labelField = _props2.labelField;\n\n      if (editable) {\n        this.setState({\n          currentEditIndex: i,\n          query: tag[labelField]\n        }, function () {\n          _this2.tagInput.focus();\n        });\n      }\n\n      if (handleTagClick) {\n        handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n      this.setState({\n        query: query\n      }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n\n      this.setState({\n        isFocused: true\n      });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n\n      this.setState({\n        isFocused: false,\n        currentEditIndex: -1\n      });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode; // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: [],\n          currentEditIndex: -1\n        });\n      } // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n\n\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({\n          id: query\n        }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      } // when backspace key is pressed and query is blank, delete tag\n\n\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      } // up arrow\n\n\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      } // down arrow\n\n\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength); // Used to determine how the pasted content is split.\n\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp); // Only add unique tags\n\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({\n          id: tag\n        }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags; // locate tags\n\n      var dragTag = tags[dragIndex]; // call handler with the index of the dragged tag\n      // and the tag that is hovered\n\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames); // get the suggestions for the given query\n\n\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n      var _props3 = this.props,\n          placeholder = _props3.placeholder,\n          inputName = _props3.name,\n          inputId = _props3.id,\n          maxLength = _props3.maxLength,\n          inline = _props3.inline,\n          inputFieldPosition = _props3.inputFieldPosition,\n          inputValue = _props3.inputValue,\n          inputProps = _props3.inputProps,\n          clearAll = _props3.clearAll,\n          tags = _props3.tags;\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n      var tagInput = !this.props.readOnly ? _react2.default.createElement('div', {\n        className: classNames.tagInput\n      }, _react2.default.createElement('input', _extends({}, inputProps, {\n        ref: function ref(input) {\n          _this4.textInput = input;\n        },\n        className: classNames.tagInputField,\n        type: 'text',\n        placeholder: placeholder,\n        'aria-label': placeholder,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        onPaste: this.handlePaste,\n        name: inputName,\n        id: inputId,\n        maxLength: maxLength,\n        value: inputValue,\n        'data-automation': 'input',\n        'data-testid': 'input'\n      })), _react2.default.createElement(_Suggestions2.default, {\n        query: query,\n        suggestions: suggestions,\n        labelField: this.props.labelField,\n        selectedIndex: selectedIndex,\n        handleClick: this.handleSuggestionClick,\n        handleHover: this.handleSuggestionHover,\n        minQueryLength: this.props.minQueryLength,\n        shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n        isFocused: this.state.isFocused,\n        classNames: classNames,\n        renderSuggestion: this.props.renderSuggestion\n      }), clearAll && tags.length > 0 && _react2.default.createElement(_ClearAllTags2.default, {\n        classNames: classNames,\n        onClick: this.clearAll\n      })) : null;\n      return _react2.default.createElement('div', {\n        className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n        ref: this.reactTagsRef\n      }, _react2.default.createElement('p', {\n        role: 'alert',\n        className: 'sr-only',\n        style: {\n          position: 'absolute',\n          overflow: 'hidden',\n          clip: 'rect(0 0 0 0)',\n          margin: '-1px',\n          padding: 0,\n          width: '1px',\n          height: '1px',\n          border: 0\n        }\n      }, this.state.ariaLiveStatus), position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput, _react2.default.createElement('div', {\n        className: classNames.selected\n      }, tagItems, position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput), position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput);\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  onTagUpdate: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object,\n  editable: _propTypes2.default.bool,\n  clearAll: _propTypes2.default.bool,\n  onClearAll: _propTypes2.default.func\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [].concat(_toConsumableArray(_constants.KEYS.ENTER), [_constants.KEYS.TAB]),\n  autofocus: true,\n  inline: true,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {},\n  onTagUpdate: _noop2.default,\n  editable: false,\n  clearAll: false,\n  handleClearAll: _noop2.default\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.filteredSuggestions = function (query) {\n    var suggestions = _this5.props.suggestions;\n\n    if (_this5.props.allowUnique) {\n      var existingTags = _this5.props.tags.map(function (tag) {\n        return tag.id.toLowerCase();\n      });\n\n      suggestions = suggestions.filter(function (suggestion) {\n        return !existingTags.includes(suggestion.id.toLowerCase());\n      });\n    }\n\n    if (_this5.props.handleFilterSuggestions) {\n      return _this5.props.handleFilterSuggestions(query, suggestions);\n    }\n\n    var exactSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) === 0;\n    });\n    var partialSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) > 0;\n    });\n    return exactSuggestions.concat(partialSuggestions);\n  };\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({\n      query: ''\n    });\n\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props4 = _this5.props,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        allowUnique = _props4.allowUnique;\n    var currentEditIndex = _this5.state.currentEditIndex;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    }); // Return if tag has been already added\n\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField]);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    } // call method to add\n\n\n    if (currentEditIndex !== -1 && _this5.props.onTagUpdate) _this5.props.onTagUpdate(currentEditIndex, tag);else _this5.props.handleAddition(tag); // reset the state\n\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1,\n      currentEditIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.clearAll = function () {\n    if (_this5.props.onClearAll) {\n      _this5.props.onClearAll();\n    }\n  };\n\n  this.getTagItems = function () {\n    var _props5 = _this5.props,\n        tags = _props5.tags,\n        labelField = _props5.labelField,\n        removeComponent = _props5.removeComponent,\n        readOnly = _props5.readOnly,\n        allowDragDrop = _props5.allowDragDrop;\n\n    var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, _this5.props.classNames);\n\n    var _state3 = _this5.state,\n        currentEditIndex = _state3.currentEditIndex,\n        query = _state3.query;\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_react2.default.Fragment, {\n        key: index\n      }, currentEditIndex === index ? _react2.default.createElement('div', {\n        className: classNames.editTagInput\n      }, _react2.default.createElement('input', {\n        ref: function ref(input) {\n          _this5.tagInput = input;\n        },\n        onFocus: _this5.handleFocus,\n        value: query,\n        onChange: _this5.handleChange,\n        onKeyDown: _this5.handleKeyDown,\n        onBlur: _this5.handleBlur,\n        className: classNames.editTagInputField,\n        onPaste: _this5.handlePaste,\n        'data-testid': 'tag-edit'\n      })) : _react2.default.createElement(_Tag2.default, {\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this5.handleDelete.bind(_this5, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this5.handleTagClick.bind(_this5, index, tag),\n        readOnly: readOnly,\n        classNames: classNames,\n        allowDragDrop: allowDragDrop\n      }));\n    });\n  };\n};\n\nvar WithContext = function WithContext(_ref2) {\n  var props = _objectWithoutProperties(_ref2, []);\n\n  return _react2.default.createElement(_reactDnd.DndProvider, {\n    backend: _reactDndHtml5Backend.HTML5Backend\n  }, _react2.default.createElement(ReactTags, props));\n};\n\nexports.WithContext = WithContext;\nexports.WithOutContext = ReactTags;\nexports.KEYS = _constants.KEYS;","map":{"version":3,"sources":["/Users/davidandtiana/Downloads/chillibean-test/node_modules/react-tag-input/dist-modules/components/ReactTags.js"],"names":["Object","defineProperty","exports","value","KEYS","WithOutContext","WithContext","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDnd","_reactDndHtml5Backend","_isEqual","_isEqual2","_noop","_noop2","_uniq","_uniq2","_ClearAllTags","_ClearAllTags2","_Suggestions","_Suggestions2","_propTypes","_propTypes2","_classnames","_classnames2","_Tag","_Tag2","_utils","_constants","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_objectWithoutProperties","keys","indexOf","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ReactTags","_Component","_this","getPrototypeOf","_initialiseProps","inline","console","warn","suggestions","state","query","isFocused","selectedIndex","selectionMode","ariaLiveStatus","currentEditIndex","reactTagsRef","createRef","handleFocus","bind","handleBlur","handleKeyDown","handleChange","moveTag","handlePaste","handleSuggestionHover","handleSuggestionClick","componentDidMount","_props","autofocus","readOnly","resetAndFocusInput","componentDidUpdate","prevProps","updateSuggestions","handleDelete","index","event","preventDefault","stopPropagation","currentTags","tags","slice","id","allTags","current","querySelectorAll","nextElementToFocus","nextIndex","nextTag","textInput","focus","setState","handleTagClick","tag","e","_this2","_props2","editable","labelField","tagInput","handleInputChange","trim","handleInputFocus","handleInputBlur","_state","keyCode","ESCAPE","delimiters","shiftKey","TAB","selectedQuery","addTag","BACKSPACE","allowDeleteFromEmptyInput","UP_ARROW","DOWN_ARROW","_this3","allowAdditionFromPaste","clipboardData","window","clipboardText","getData","_props$maxLength","maxLength","maxTextLength","Math","min","pastedText","substr","delimiterRegExp","buildRegExpFromDelimiters","split","forEach","dragIndex","hoverIndex","dragTag","handleDrag","render","_this4","tagItems","getTagItems","classNames","DEFAULT_CLASSNAMES","_props3","placeholder","inputName","name","inputId","inputFieldPosition","inputValue","inputProps","clearAll","position","INPUT_FIELD_POSITIONS","BOTTOM","createElement","className","ref","input","tagInputField","type","onFocus","onBlur","onChange","onKeyDown","onPaste","handleClick","handleHover","minQueryLength","shouldRenderSuggestions","renderSuggestion","onClick","role","style","overflow","clip","margin","padding","width","height","border","TOP","selected","INLINE","Component","propTypes","string","arrayOf","shape","isRequired","number","bool","oneOf","func","handleAddition","onTagUpdate","handleFilterSuggestions","allowDragDrop","removeComponent","autocomplete","oneOfType","object","allowUnique","onClearAll","defaultProps","DEFAULT_PLACEHOLDER","DEFAULT_LABEL_FIELD","concat","ENTER","handleClearAll","_this5","filteredSuggestions","existingTags","map","toLowerCase","filter","suggestion","includes","exactSuggestions","item","getQueryIndex","partialSuggestions","_state2","_props4","existingKeys","possibleMatches","_props5","_state3","Fragment","editTagInput","editTagInputField","onDelete","onTagClicked","_ref2","DndProvider","backend","HTML5Backend"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KEYS = exports.WithOutContext = exports.WithContext = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _ClearAllTags = require('./ClearAllTags');\n\nvar _ClearAllTags2 = _interopRequireDefault(_ClearAllTags);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: '',\n      currentEditIndex: -1\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      // Early exit from the function if the array\n      // is already empty\n      if (currentTags.length === 0) {\n        return;\n      }\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, tag, e) {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          editable = _props2.editable,\n          handleTagClick = _props2.handleTagClick,\n          labelField = _props2.labelField;\n\n      if (editable) {\n        this.setState({ currentEditIndex: i, query: tag[labelField] }, function () {\n          _this2.tagInput.focus();\n        });\n      }\n      if (handleTagClick) {\n        handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n\n      this.setState({ query: query }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n      this.setState({ isFocused: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n      this.setState({ isFocused: false, currentEditIndex: -1 });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode;\n\n      // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: [],\n          currentEditIndex: -1\n        });\n      }\n\n      // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({ id: query }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      }\n\n      // when backspace key is pressed and query is blank, delete tag\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      }\n\n      // up arrow\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      }\n\n      // down arrow\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n\n\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength);\n\n      // Used to determine how the pasted content is split.\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp);\n\n      // Only add unique tags\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({ id: tag }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags;\n\n      // locate tags\n      var dragTag = tags[dragIndex];\n\n      // call handler with the index of the dragged tag\n      // and the tag that is hovered\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames);\n\n      // get the suggestions for the given query\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n\n      var _props3 = this.props,\n          placeholder = _props3.placeholder,\n          inputName = _props3.name,\n          inputId = _props3.id,\n          maxLength = _props3.maxLength,\n          inline = _props3.inline,\n          inputFieldPosition = _props3.inputFieldPosition,\n          inputValue = _props3.inputValue,\n          inputProps = _props3.inputProps,\n          clearAll = _props3.clearAll,\n          tags = _props3.tags;\n\n\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n\n      var tagInput = !this.props.readOnly ? _react2.default.createElement(\n        'div',\n        { className: classNames.tagInput },\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: function ref(input) {\n            _this4.textInput = input;\n          },\n          className: classNames.tagInputField,\n          type: 'text',\n          placeholder: placeholder,\n          'aria-label': placeholder,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          onPaste: this.handlePaste,\n          name: inputName,\n          id: inputId,\n          maxLength: maxLength,\n          value: inputValue,\n          'data-automation': 'input',\n          'data-testid': 'input'\n        })),\n        _react2.default.createElement(_Suggestions2.default, {\n          query: query,\n          suggestions: suggestions,\n          labelField: this.props.labelField,\n          selectedIndex: selectedIndex,\n          handleClick: this.handleSuggestionClick,\n          handleHover: this.handleSuggestionHover,\n          minQueryLength: this.props.minQueryLength,\n          shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n          isFocused: this.state.isFocused,\n          classNames: classNames,\n          renderSuggestion: this.props.renderSuggestion\n        }),\n        clearAll && tags.length > 0 && _react2.default.createElement(_ClearAllTags2.default, { classNames: classNames, onClick: this.clearAll })\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n          ref: this.reactTagsRef },\n        _react2.default.createElement(\n          'p',\n          {\n            role: 'alert',\n            className: 'sr-only',\n            style: {\n              position: 'absolute',\n              overflow: 'hidden',\n              clip: 'rect(0 0 0 0)',\n              margin: '-1px',\n              padding: 0,\n              width: '1px',\n              height: '1px',\n              border: 0\n            } },\n          this.state.ariaLiveStatus\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput,\n        _react2.default.createElement(\n          'div',\n          { className: classNames.selected },\n          tagItems,\n          position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput\n      );\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool, // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  onTagUpdate: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object,\n  editable: _propTypes2.default.bool,\n  clearAll: _propTypes2.default.bool,\n  onClearAll: _propTypes2.default.func\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [].concat(_toConsumableArray(_constants.KEYS.ENTER), [_constants.KEYS.TAB]),\n  autofocus: true,\n  inline: true, // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {},\n  onTagUpdate: _noop2.default,\n  editable: false,\n  clearAll: false,\n  handleClearAll: _noop2.default\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.filteredSuggestions = function (query) {\n    var suggestions = _this5.props.suggestions;\n\n    if (_this5.props.allowUnique) {\n      var existingTags = _this5.props.tags.map(function (tag) {\n        return tag.id.toLowerCase();\n      });\n      suggestions = suggestions.filter(function (suggestion) {\n        return !existingTags.includes(suggestion.id.toLowerCase());\n      });\n    }\n    if (_this5.props.handleFilterSuggestions) {\n      return _this5.props.handleFilterSuggestions(query, suggestions);\n    }\n\n    var exactSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) === 0;\n    });\n    var partialSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) > 0;\n    });\n    return exactSuggestions.concat(partialSuggestions);\n  };\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({ query: '' });\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props4 = _this5.props,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        allowUnique = _props4.allowUnique;\n    var currentEditIndex = _this5.state.currentEditIndex;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    });\n\n    // Return if tag has been already added\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField]);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    }\n\n    // call method to add\n    if (currentEditIndex !== -1 && _this5.props.onTagUpdate) _this5.props.onTagUpdate(currentEditIndex, tag);else _this5.props.handleAddition(tag);\n\n    // reset the state\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1,\n      currentEditIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.clearAll = function () {\n    if (_this5.props.onClearAll) {\n      _this5.props.onClearAll();\n    }\n  };\n\n  this.getTagItems = function () {\n    var _props5 = _this5.props,\n        tags = _props5.tags,\n        labelField = _props5.labelField,\n        removeComponent = _props5.removeComponent,\n        readOnly = _props5.readOnly,\n        allowDragDrop = _props5.allowDragDrop;\n\n    var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, _this5.props.classNames);\n\n    var _state3 = _this5.state,\n        currentEditIndex = _state3.currentEditIndex,\n        query = _state3.query;\n\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(\n        _react2.default.Fragment,\n        { key: index },\n        currentEditIndex === index ? _react2.default.createElement(\n          'div',\n          { className: classNames.editTagInput },\n          _react2.default.createElement('input', {\n            ref: function ref(input) {\n              _this5.tagInput = input;\n            },\n            onFocus: _this5.handleFocus,\n            value: query,\n            onChange: _this5.handleChange,\n            onKeyDown: _this5.handleKeyDown,\n            onBlur: _this5.handleBlur,\n            className: classNames.editTagInputField,\n            onPaste: _this5.handlePaste,\n            'data-testid': 'tag-edit'\n          })\n        ) : _react2.default.createElement(_Tag2.default, {\n          index: index,\n          tag: tag,\n          labelField: labelField,\n          onDelete: _this5.handleDelete.bind(_this5, index),\n          moveTag: moveTag,\n          removeComponent: removeComponent,\n          onTagClicked: _this5.handleTagClick.bind(_this5, index, tag),\n          readOnly: readOnly,\n          classNames: classNames,\n          allowDragDrop: allowDragDrop\n        })\n      );\n    });\n  };\n};\n\nvar WithContext = function WithContext(_ref2) {\n  var props = _objectWithoutProperties(_ref2, []);\n\n  return _react2.default.createElement(\n    _reactDnd.DndProvider,\n    { backend: _reactDndHtml5Backend.HTML5Backend },\n    _react2.default.createElement(ReactTags, props)\n  );\n};\nexports.WithContext = WithContext;\nexports.WithOutContext = ReactTags;\nexports.KEYS = _constants.KEYS;"]},"metadata":{},"sourceType":"script"}